@use "../spectre.css/variables" as *;

// Icon base style
.#{$icon-prefix} {
  box-sizing: border-box;
  display: inline-block;
  font-size: inherit;
  font-style: normal;
  height: 1em;
  position: relative;
  text-indent: -9999px;
  vertical-align: middle;
  width: 1em;
  &::before,
  &::after {
    content: "";
    display: block;
    left: 50%;
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  // Icon sizes
  &.icon-2x {
    font-size: 1.6rem;
  }

  &.icon-3x {
    font-size: 2.4rem;
  }

  &.icon-4x {
    font-size: 3.2rem;
  }

  // Component icon support
  .accordion &,
  .btn &,
  .toast &,
  .menu & {
    vertical-align: -10%;

    &:first-child {
      margin-right: $unit-2;
    }

    &:last-child {
      margin-left: $unit-2;
    }
  }

  .btn-lg & {
    vertical-align: -15%;
  }
}

// Form Icons
.has-icon-left,
.has-icon-right {
  display: flex;
  position: relative;

  &.form-inline {
    display: inline-block;
  }

  .#{$icon-prefix} {
    height: $control-icon-size;
    margin: 0 $control-padding-y-md;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: $control-icon-size;
    z-index: $zindex-0 + 1;
  }
}

.has-icon-left {
  .#{$icon-prefix}:not(.is-right) {
    left: calc($border-width-md * 6);
  }

  .form-input {
    padding-left: calc($control-icon-size + $control-padding-y-md * 3);
  }
}

.has-icon-right {
  .#{$icon-prefix}:not(.is-left) {
    right: calc($border-width-md * 6);
  }

  .form-input {
    padding-right: calc($control-icon-size + $control-padding-y-md * 3);
  }
}
